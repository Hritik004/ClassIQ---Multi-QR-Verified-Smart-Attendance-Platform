<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Faculty Login - ClassIQ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
      }

      /* Login Page Styles */
      .login-page {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 20px;
        position: relative;
        overflow: hidden;
        background: linear-gradient(
          135deg,
          #4a4e69 0%,
          #6b5b95 20%,
          #4e29c6 40%,
          #4e29c6 60%,
          #6b5b95 80%,
          #4a4e69 100%
        );
      }

      .login-page::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 30%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 70%,
            rgba(255, 255, 255, 0.08) 0%,
            transparent 50%
          );
        z-index: -1;
      }

      .login-container-full {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 24px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        width: 100%;
        max-width: 420px;
      }

      .login-header {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.2) 0%,
          rgba(255, 255, 255, 0.1) 100%
        );
        color: white;
        padding: 35px 25px;
        text-align: center;
        backdrop-filter: blur(15px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }

      .login-header h1 {
        font-size: 32px;
        margin-bottom: 10px;
        font-weight: 700;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .login-header p {
        opacity: 0.95;
        font-size: 15px;
        text-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);
      }

      .login-form {
        padding: 40px 30px;
        background: rgba(255, 255, 255, 0.05);
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.9);
        font-size: 14px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .form-control {
        width: 100%;
        padding: 14px 18px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 12px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        color: white;
      }

      .form-control::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .form-control:focus {
        outline: none;
        border-color: rgba(255, 255, 255, 0.6);
        background: rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1);
        transform: translateY(-1px);
      }

      .form-login-btn {
        width: 100%;
        padding: 16px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.3) 0%,
          rgba(255, 255, 255, 0.2) 100%
        );
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.4);
        color: white;
        font-size: 17px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-bottom: 25px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }

      .form-login-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.4) 0%,
          rgba(255, 255, 255, 0.3) 100%
        );
        border-color: rgba(255, 255, 255, 0.6);
      }

      .form-login-btn:active {
        transform: translateY(-1px);
      }

      .form-login-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .forgot-password {
        text-align: center;
      }

      .forgot-password a {
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s ease;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .forgot-password a:hover {
        color: white;
        text-decoration: underline;
      }

      .signup-link {
        text-align: center;
        margin-top: 25px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
      }

      .signup-link p {
        color: rgba(255, 255, 255, 0.8);
        font-size: 14px;
        margin: 0;
      }

      .signup-link a {
        color: white;
        text-decoration: none;
        font-weight: 600;
        transition: color 0.3s ease;
      }

      .signup-link a:hover {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: underline;
      }

      .user-icon {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .user-icon svg {
        width: 35px;
        height: 35px;
        fill: white;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .back-link {
        text-align: center;
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid rgba(255, 255, 255, 0.15);
      }

      .back-link a {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      .back-link a:hover {
        color: white;
        text-decoration: underline;
      }

      /* Animations */
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .login-container-full {
          margin: 15px;
          border-radius: 20px;
          max-width: 100%;
        }

        .login-form {
          padding: 30px 25px;
        }

        .login-header {
          padding: 30px 25px;
        }

        .login-header h1 {
          font-size: 28px;
        }
      }
    </style>
  </head>

  <body>
    <!-- Faculty Login Page -->
    <div class="login-page">
      <div class="login-container-full">
        <div class="login-header">
          <div class="user-icon">
            <svg viewBox="0 0 24 24">
              <path
                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
              />
            </svg>
          </div>
          <h1>ClassIQ Pro</h1>
          <p>Faculty Dashboard Access</p>
        </div>

        <div class="login-form">
          <form id="faculty-form" onsubmit="handleFacultyLogin(event)">
            <div class="form-group">
              <label for="faculty-email">Faculty Email Address</label>
              <input
                type="email"
                id="faculty-email"
                name="email"
                class="form-control"
                placeholder="Enter your email address"
                required
              />
            </div>
            <div class="form-group">
              <label for="faculty-password">Password</label>
              <input
                type="password"
                id="faculty-password"
                name="password"
                class="form-control"
                placeholder="Enter your password"
                required
              />
            </div>
            <button type="submit" class="form-login-btn">
              Sign In as Faculty
            </button>
            <div class="forgot-password">
              <a href="#" onclick="showForgotPassword('faculty')"
                >Forgot your password?</a
              >
            </div>
            <div class="signup-link">
              <p>
                Don't have an account?
                <a href="/signup_faculty">Sign up here</a>
              </p>
            </div>
            <div class="back-link">
              <a href="/login_student">Student? Login here</a> |
              <a href="/dashboard">‚Üê Back to Home</a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Faculty login form handler
      async function handleFacultyLogin(event) {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);

        const email = formData.get("email");
        const password = formData.get("password");

        // Form validation
        if (!validateLoginForm(form)) {
          return;
        }

        // Simulate login process
        const button = form.querySelector(".form-login-btn");
        const originalText = button.textContent;

        button.textContent = "Signing In...";
        button.disabled = true;

        showLoadingMessage("Authenticating Faculty...");

        try {
          // Send data to backend (replace with actual API endpoint)
          const response = await fetch("/login_facultyy", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            credentials: "include",
            body: JSON.stringify({ email, password }),
          });

          if (!response.ok) {
            throw new Error("Login failed. Please check your credentials.");
          }

          const result = await response.json();

          if (result.success) {
            showNotification(
              `‚úÖ Faculty Login Successful!\nWelcome, ${email}`,
              "success"
            );

            // Redirect to '/xpage'
            setTimeout(() => {
              window.location.href = "/xpage";
            }, 1000);
          } else {
            throw new Error(
              result.message || "Login failed. Please try again."
            );
          }
        } catch (error) {
          showNotification(`‚ùå ${error.message}`, "error");
        } finally {
          // Reset button
          button.textContent = originalText;
          button.disabled = false;
        }
      }

      // Form validation
      function validateLoginForm(form) {
        const inputs = form.querySelectorAll("input[required]");
        let isValid = true;

        inputs.forEach((input) => {
          if (!input.value.trim()) {
            input.style.borderColor = "#dc3545";
            input.style.animation = "shake 0.5s ease-in-out";
            isValid = false;

            setTimeout(() => {
              input.style.borderColor = "rgba(255, 255, 255, 0.3)";
              input.style.animation = "none";
            }, 1000);
          } else {
            input.style.borderColor = "rgba(255, 255, 255, 0.3)";
            input.style.animation = "none";
          }
        });

        if (!isValid) {
          showNotification("‚ö† Please fill in all required fields", "error");
        }

        return isValid;
      }

      // Utility functions
      function showForgotPassword(userType) {
        showNotification(
          `üîê Password Reset for ${userType}\n\nA password reset link will be sent to your registered email address.`,
          "info"
        );
      }

      function showStudentLogin() {
        showNotification("üîÑ Redirecting to Student Login...", "info");
        // In a real implementation, this would navigate to the student login page
      }

      function showDashboard() {
        showNotification("üîÑ Redirecting to Dashboard...", "info");
        // In a real implementation, this would navigate to the dashboard
      }

      function showLoadingMessage(message) {
        showNotification(message, "info");
      }

      // Notification system
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        const bgColor = {
          success: "#28a745",
          error: "#dc3545",
          info: "#4facfe",
          warning: "#ffc107",
        };

        notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${bgColor[type] || bgColor.info};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideInRight 0.3s ease-out;
                max-width: 350px;
                font-weight: 500;
                white-space: pre-line;
            `;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideOutRight 0.3s ease-in forwards";
          setTimeout(() => notification.remove(), 300);
        }, 4000);
      }

      // Auto-focus first input when page loads
      document.addEventListener("DOMContentLoaded", function () {
        const firstInput = document.querySelector("input");
        if (firstInput) {
          firstInput.focus();
        }

        // Welcome notification
        setTimeout(() => {
          showNotification(
            "üéì Faculty Login Portal\nEnter your credentials to access the dashboard.",
            "info"
          );
        }, 500);
      });

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          if (document.activeElement.tagName !== "BUTTON") {
            const form = document.getElementById("faculty-form");
            form.dispatchEvent(new Event("submit"));
          }
        }
      });
    </script>
  </body>
</html>
